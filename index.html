<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puzzle</title>
    <link rel="icon" href="/favicon.ico">
    <style>
        #titulo {
            margin: auto;
            text-align: center;
            margin: 40px;
        }
    </style>


</head>

<body>
    <section>
        <h3 id="titulo">PUZZLE - By Mario</h3>
        <table id="tabla" style="margin:auto">
            <tr>
                <td><img id="img_0" src="img/tigre-0.jpg" onclick="seleccionar(0)"> </td>
                <td><img id="img_1" src="img/tigre-1.jpg" onclick="seleccionar(1)"> </td>
                <td><img id="img_2" src="img/tigre-2.jpg" onclick="seleccionar(2)"> </td>
                <td><img id="img_3" src="img/tigre-3.jpg" onclick="seleccionar(3)"> </td>
            </tr>
            <tr>
                <td><img id="img_4" src="img/tigre-4.jpg" onclick="seleccionar(4)"> </td>
                <td><img id="img_5" src="img/tigre-5.jpg" onclick="seleccionar(5)"> </td>
                <td><img id="img_6" src="img/tigre-6.jpg" onclick="seleccionar(6)"> </td>
                <td><img id="img_7" src="img/tigre-7.jpg" onclick="seleccionar(7)"> </td>
            </tr>
            <tr>
                <td><img id="img_8" src="img/tigre-8.jpg" onclick="seleccionar(8)" /> </td>
                <td><img id="img_9" src="img/tigre-9.jpg" onclick="seleccionar(9)" /> </td>
                <td><img id="img_10" src="img/tigre-10.jpg" onclick="seleccionar(10)" /> </td>
                <td><img id="img_11" src="img/tigre-11.jpg" onclick="seleccionar(11)" /> </td>
            </tr>
        </table>
        <img src="img/TIGRE.jpg" alt="rompecabezas-final" onclick="imagen_final()">;
    </section>

</body>

<script>

//funcion que coloca la imagen del tigre cuando finaliza
function imagen_final() {
    
}

    //desordenamos las placas del puzle
    function desordenar() {
        piezas = piezas.sort(function () { return Math.random() - 0.5 });
        refrescarPuzle();
    }

    //refrezcamos el puzle para que aparezca desordenado
    function refrescarPuzle() {
        for (var casilla = 0; casilla < 12; casilla++) {
            var imagen = piezas[casilla];
            var colocar = document.getElementById("img_" + casilla);
            colocar.src = "img/tigre-" + imagen + ".jpg";
        }
    }

    //desmarcamos todas, les quitamos el marco rojo
    function desmarcarTodas() {
        for (var i = 0; i < 12; i++) {
            var img = document.getElementById("img_" + i);
            if (img) {
                img.style.border = "none";
            }
        }
    }

function 

    function seleccionar(casilla) {
        num_click = num_click + 1;

        if (num_click == 1) {

            casilla_click_primero = casilla;
            desmarcarTodas();
            var casillaSeleccionada = document.getElementById("img_" + casilla);
            casillaSeleccionada.style.border = "3px solid red";
        }

        if (num_click == 2) {
            var casilla_click_segundo = casilla;
            var contenido = piezas[casilla_click_primero];

            piezas[casilla_click_primero] = piezas[casilla_click_segundo];
            piezas[casilla_click_segundo] = contenido;

            num_click = 0;

            desmarcarTodas();
            refrescarPuzle();


        }
        var correcto = comprobarPuzleFinalizado();

        if (correcto == true) {

            alert("Puzle Finalizado");
        }
    }

    function comprobarPuzleFinalizado() {
        var correcto = true;
        for (var i = 0; i < 12; i++) {
            if (piezas[i] != i) {
                correcto = false;
            }
        }
        return correcto;
    }

    // Aqui empieza el programa

    var piezas = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];
    var num_click = 0;
    var casilla_click_primero;

    desordenar();

</script>


</html>